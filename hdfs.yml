---
- name: hdfs_namenode_install
  depends_on:
    - zookeeper_server_install
    - hadoop_install

- name: hdfs_datanode_install
  depends_on:
    - hadoop_install

- name: hdfs_namenode_start
  depends_on:
    - hdfs_journalnode_init

- name: hdfs_journalnode_install
  depends_on:
    - hadoop_install

- name: hdfs_namenode_formatzk
  depends_on:
    - zookeeper_server_init
    - hdfs_namenode_install

- name: hdfs_namenode_init
  depends_on:
    - hdfs_namenode_start

- name: hdfs_datanode_start
  depends_on:
    - hdfs_datanode_install
    - hdfs_namenode_init

- name: hdfs_datanode_init
  depends_on:
    - hdfs_datanode_start

- name: hdfs_journalnode_start
  depends_on:
    - hdfs_journalnode_install
    - hdfs_namenode_formatzk

- name: hdfs_journalnode_init
  depends_on:
    - hdfs_journalnode_start

- name: hdfs_install
  depends_on:
    - hdfs_namenode_install
    - hdfs_datanode_install
    - hdfs_journalnode_install

- name: hdfs_start
  depends_on:
    - hdfs_namenode_start
    - hdfs_journalnode_start
    - hdfs_datanode_start

- name: hdfs_init
  depends_on:
    - hdfs_namenode_init
    - hdfs_journalnode_init
    - hdfs_datanode_init
