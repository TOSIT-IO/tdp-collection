---
- include_tasks: hbase.yaml

- include_tasks: hbase_master.yaml
  when: "'hbase_master' in group_names"

- include_tasks: hbase_rs.yaml
  when: "'hbase_rs' in group_names"

- include_tasks: ranger_hbase_plugin.yaml
  when: "['hbase_master', 'hbase_rs'] | intersect(group_names) | count > 0"

- include_tasks: hbase_client.yaml
  when: "'hbase_client' in group_names"

- include_tasks: phoenix.yaml
  when: "['hbase_master', 'hbase_rs', 'hbase_client'] | intersect(group_names) | count > 0"

- include_tasks: phoenix_server.yaml
  when: "['hbase_master', 'hbase_rs'] | intersect(group_names) | count > 0"

- include_tasks: phoenix_client.yaml
  when: "'hbase_client' in group_names"

- include_tasks: phoenix_ranger.yaml
  when: "['hbase_master', 'hbase_rs', 'hbase_client'] | intersect(group_names) | count > 0"

- include_tasks: phoenix_queryserver.yaml
  when: "['phoenix_queryserver_daemon', 'phoenix_queryserver_client'] | intersect(group_names) | count > 0"

- include_tasks: phoenix_queryserver_daemon.yaml
  when: "'phoenix_queryserver_daemon' in group_names"

- include_tasks: phoenix_queryserver_client.yaml
  when: "'phoenix_queryserver_client' in group_names"
