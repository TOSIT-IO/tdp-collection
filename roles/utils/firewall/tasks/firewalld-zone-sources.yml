# Copyright 2022 TOSIT.IO
# SPDX-License-Identifier: Apache-2.0

---
- name: "Add sources to {{ zone }} firewalld zone"
  xml:
    path: "/etc/firewalld/zones/{{ zone }}.xml"
    xpath: "/zone/source[@{{ type }}='{{ source }}']"
    attribute: "{{ type }}"
    value: "{{ source }}"
    pretty_print: yes
  loop: "{{ sources }}"
  loop_control:
    loop_var: source
